<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/cipher.css">
    <link rel="stylesheet" href="../css/error-message.css">

    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/about.css">
    <link rel="stylesheet" href="../css/footer.css">
    <link rel="stylesheet" href="../css/nav-bar.css">
    <link rel="stylesheet" href="../css/sidebar.css">
    <link rel="stylesheet" href="../css/mobile-nav-bar.css">
    <link rel="stylesheet" href="../css/show-grid.css">

    <script src="../js/nav/index.js" defer></script>
    <script src="../js/ciphers/RailFenceCipher.js" defer></script>
    <script src="../js/ciphers/CipherFactory.js" defer></script>
    <script src="../js/index.js" defer></script>
    <title>Rail Fence Cipher</title>
</head>

<body>
    <nav>
        <button class="nav-toggle" aria-label="toggle navigation" onclick="toggleNavItems()">
            <span class="hamburger"></span>
        </button>
        <div id="logo">
            <a href="../index.html">
                <img src="../assets/logo.png" alt="About Us" class="logo-image">
            </a>
        </div>
        <ul class="nav-items">
            <li class="nav-item">
                <a class="nav-item-link" href="../index.html#landing">Home</a>
            </li>
            <li class="nav-item">
                <div class="dropdown">
                    <div class="dropdown-btn" onclick="toggleDropdown(this)">
                        <div>About</div>
                        <div class="dropdown-icon">&#9660</div>
                    </div>
                    <div class="dropdown-items-container">
                        <a href="./about.html" class="dropdown-item">About this website</a>
                        <a href="./inspiration.html" class="dropdown-item">Design inspiration</a>
                        <a href="./improvements.html" class="dropdown-item">Future improvements</a>
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-item-link" href="./contact.html">Contact</a>
            </li>
            <li class="nav-item">
                <div class="dropdown">
                    <div class="dropdown-btn" onclick="toggleDropdown(this)">
                        <div>All Ciphers</div>
                        <div class="dropdown-icon">&#9660</div>
                    </div>
                    <div class="dropdown-items-container">
                        <a href="./atbashCipher.html" class="dropdown-item">Atbash Cipher</a>
                        <a href="./caesarCipher.html" class="dropdown-item">Caesar Cipher</a>
                        <a href="./dancingMenCipher.html" class="dropdown-item">Dancing Men Cipher</a>
                        <a href="./morseCode.html" class="dropdown-item">Morse Code</a>
                        <a href="./railFenceCipher.html" class="dropdown-item">Rail Fence Cipher</a>
                        <a href="./starWarsCipher.html" class="dropdown-item">Star Wars Cipher</a>
                    </div>
                </div>
            </li>
        </ul>

        <ul class="nav-items-mobile">
            <li class="nav-item-mobile">
                <a class="nav-item-link" href="../index.html">Home</a>
            </li>
            <li class="nav-item-mobile">
                <a class="nav-item-link">About</a>
                <ul class="sub-nav">
                    <li><a href="./about.html">About this website</a></li>
                    <li><a href="./inspiration.html">Design inspiration</a></li>
                    <li><a href="./improvements.html">Future improvements</a></li>
                </ul>
            </li>
            <li class="nav-item-mobile">
                <a class="nav-item-link" href="./contact.html">Contact</a>
            </li>
            <li class="nav-item-mobile">
                <a class="nav-item-link">Ciphers</a>
                <ul class="sub-nav">
                    <li><a href="./atbashCipher.html">Atbash Cipher</a></li>
                    <li><a href="./caesarCipher.html">Caesar Cipher</a></li>
                    <li><a href="./dancingMenCipher.html">Dancing Men Cipher</a></li>
                    <li><a href="./morseCode.html">Morse Code</a></li>
                    <li><a href="./railFenceCipher.html">Rail Fence Cipher</a></li>
                    <li><a href="./starWarsCipher.html">Star Wars Cipher</a></li>
                </ul>
            </li>
        </ul>
    </nav>
    <main>
        <div class="sidebar">
            <div class="sidebar-content-container">
                <h2 class="sidebar-title">Summary</h2>
                <p class="sidebar-content">The Rail Fence Cipher is a type of transposition cipher that rearranges the
                    order of letters in a plaintext message based on a <strong>key</strong> that determines the number
                    of rows used in
                    the encryption process. This cipher derives its name from the way letters are written in a zigzag
                    pattern, resembling a rail fence. It offers a basic level of security by using a key to vary the
                    number of rows, making the encryption slightly more challenging to decipher without knowledge of the
                    key.<br>
                </p>
                <h2 class="sidebar-title">How it works: Encryption</h2>
                <p class="sidebar-content">
                    Begin by writing the message in a zigzag pattern across multiple rows. The number of rows is
                    determined by the key.
                    For example, with a key of 3, you write
                    the first letter in the top row, the second in the second row, and continue in a downward fashion
                    until you reach the bottom row. Then, the direction changes, and you continue placing letters
                    diagonally upwards until reaching the top row again, repeating this pattern until the entire message
                    is written out.<br>
                    Once the message is laid out in this zigzag pattern, the ciphertext is
                    formed by reading each row sequentially from top to bottom. For example, if the plaintext is "defend
                    the east wall" and the key is 3, the letters are written in three rows with zigzagging lines, and
                    the ciphertext is read off as the sequence of letters from each row.</p>
                <img src="../assets/rail-picture.png" alt="Rail Cipher Picture" class="responsive-img">

                <h2 class="sidebar-title">How it works: Decryption</h2>
                <p class="sidebar-content">To decrypt the message, you need to reconstruct the zigzag pattern used
                    during encryption. This involves knowing the key (number of rails) used to encrypt the message.
                    First, estimate or determine how many letters occupy each row by knowing the total length of the
                    ciphertext and the encryption key.
                    Start placing the ciphertext letters back into the zigzag pattern. Begin
                    with the top row and fill it with the correct number of letters, then proceed to the next row until
                    all rows are filled according to the pattern established during encryption. Once the zigzag grid is
                    filled with the ciphertext letters, read the message
                    by following the zigzag pattern from the start to the end of the grid to reconstruct the original
                    plaintext message!.</p>
                <p class="important-content">
                    If this is not clear, you can always try this cipher out and click the button "display grid" that is
                    in the <strong>key container</strong>. This will display the grid of the text you have
                    encrypted!<br>
                    Note that in this code we are not removing the empty space, so whatever empty space is inputted it
                    will count as a character
                </p>
                <h2 class="sidebar-title">References</h2>
                <p class="sidebar-content">
                    [1] Wikipedia, <a href="https://en.wikipedia.org/wiki/Rail_fence_cipher" target="_blank">"Rail Fence Cipher"</a> - Online source.<br>
                    [1] Cryptop Corner, <a href="https://crypto.interactive-maths.com/rail-fence-cipher.html"
                        target="_blank">"Rail Fence Cipher"</a> - Online source.
                </p>
            </div>
        </div>
        <div class="learn-more-btn-container">
            <div id="learn-more-btn">
                <img src="../assets/right-arrow.png" id="learn-more-btn-arrow" onclick="toggleSidebar(this)"
                    onkeydown="handleKeyPress(event)" role="button" tabindex="0" alt="Expand to read">
            </div>
        </div>

        <div class="outer-content-container">
            <div id="error-modal" class="modal">
                <div class="modal-content">
                    <span class="close-button">×</span>
                    <p>Please insert a key value to be able to encrypt your text</p>
                </div>
            </div>
            <div class="inner-content-container">
                <h1 class="cipher-name">Rail Fence Cipher</h1>
                <div class="cipher-textarea-container">
                    <label for="plain-text" class="cipher-textarea-container-title">Plain Text</label>

                    <textarea id="plain-text" class="cipher-textarea"
                        placeholder="Insert here some text to encrypt....&#10;Or press blue button to generate random text"
                        cols="30" rows="10"></textarea>
                    <button id="gen-random-plain" class="random-cipher-btn" onclick="generateRandomPlainText()">
                        <img src="../assets/random-btn.png" alt="Generate Random Text">
                    </button>
                </div>
                <div class="cipher-btn-container">
                    <button id="encrypt-btn" class="cipher-btn" name="rail-fence-cipher"
                        onclick="encrypt(this)">Encrypt</button>
                    <div id="arrows">
                        <img id="left-arrow" class="arrow-img" src="../assets/curved-arrow.png" alt="Encrypt Arrow">
                        <img id="right-arrow" class="arrow-img" src="../assets/curved-arrow.png" alt="Decrypt Arrow">
                    </div>
                    <button id="decrypt-btn" class="cipher-btn" name="rail-fence-cipher"
                        onclick="decrypt(this)">Decrypt</button>
                </div>
                <div class="cipher-textarea-container">
                    <label for="cipher-text" class="cipher-textarea-container-title">Cipher Text</label>
                    <textarea id="cipher-text" class="cipher-textarea"
                        placeholder="Insert here some text to encrypt....&#10;Or press blue button to generate random text"
                        cols="30" rows="10"></textarea>
                    <button id="gen-random-plain" class="random-cipher-btn"
                        onclick="generateRandomCipherText('rail-fence-cipher')">
                        <img src="../assets/random-btn.png" alt="Generate Random Text">
                    </button>
                </div>
            </div>
        </div>
        <div class="cipher-input-container">
            <label for="key-input">Rail Number:</label>
            <input type="number" id="key-input" class="cipher-input" min="2" value="3">
            <button id="display-grid-btn" class="cipher-btn display-grid-btn" onclick="showGridModal()">Display
                Grid</button>
        </div>
        <div id="grid-modal" class="modal">
            <div class="modal-content">
                <span class="close-button" onclick="closeGridModal()">&times;</span>
                <div id="grid-container"></div>
            </div>
        </div>
    </main>
    <footer class="footer">
        <p>© 2024 Nicole Soto</p>
    </footer>
</body>

</html>